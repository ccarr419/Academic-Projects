<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CSC552Project2: server.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>server.cpp File Reference</h1>
<p>This file represents a server and communicates with a client file wia pipes redirected towards stdin and stdout. The pipe will receive messages from the client letting the server know what commands to run. If the client sends two floating-point numbers then a message consisting of the sum, difference, product, and quotient of both numbers is sent. The two numbers are then saved in a binary file for further use. If the client sends the string 'TOTAL' then a message holding the sum of every number entered to to the server will be sent. Last if the client sends the string 'EXIT' then a message comprised of every pair of of floating point numbers is sent.  
<a href="#_details">More...</a></p>
<code>#include &lt;iostream&gt;</code><br/>
<code>#include &lt;sstream&gt;</code><br/>
<code>#include &lt;string&gt;</code><br/>
<code>#include &lt;cstring&gt;</code><br/>
<code>#include &lt;cstdio&gt;</code><br/>
<code>#include &lt;cstdlib&gt;</code><br/>
<code>#include &lt;iomanip&gt;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#afcd5b28c187b91a60a828c00d0d4c0e9">toFloat</a> (string)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function takes a single string as an integer and converts it into a floating-point number. Stringstreams are used to make this conversion possible.  <a href="#afcd5b28c187b91a60a828c00d0d4c0e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#aa31f0b9c4df89e7da20e8005d00347c7">findFileSize</a> (FILE *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function goes to the end of the file and counts how many bytes are in the file which equally counts how many characters are in the file. Once the size is found, seek back to the beginning of the file so the server can read the whole file if necessary.  <a href="#aa31f0b9c4df89e7da20e8005d00347c7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#ab84393df0417496821dc1d5ff98460e4">findTotal</a> (char[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function reads through the single string argument and separates each number contained within. Each number is then added to a total sum. Once the end of the file has been reached then the total sum calculated thus far is returned.  <a href="#ab84393df0417496821dc1d5ff98460e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a12b7a1b707bf7bf4e38ccf8c53335482">printAllNumbers</a> (char[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function takes a single string as an argument and separates all the numbers within the string. All the numbers are printed in pairs separated by a space. Each pair is separated by a newline. This is done until the end of the file is reached.  <a href="#a12b7a1b707bf7bf4e38ccf8c53335482"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#ae1be774bc9848fcd619e1433f3b103b6">printEquations</a> (string, string)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function takes two strings as arguments which will be converted into floating-point numbers immediately. Once floating point numbers, the server will send a message through stdout containing the sum, difference, product, and quotient of the two numbers. This will be seen as four columns and two rows. First row containing the header descriptions i.e. sum, diff, etc. and the second containing the actual values of those operations.  <a href="#ae1be774bc9848fcd619e1433f3b103b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a7a2bb34a7c82f5de64369965c212c4a2">writeToFile</a> (string, string, FILE *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function takes three arguments. The first two arguments are the numbers in string form to write to the file. The third argument is the file to write to. This function will write to the file in the following format: "number *SPACE* number" by using fputs. This function assumes that the file is created and open with write permissions and does not care whether it is appending, truncating or writing to a seeked location.  <a href="#a7a2bb34a7c82f5de64369965c212c4a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a228f1ed7e4197f223deef9b2ff1b9387">shutDownServer</a> (FILE *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function takes one file reference as an argument. It will close the given file, close all open pipes (which will be stdin - 0 and stdout - 1). The buffer will also be flushed as a precautionary. This function should be the last function called before exiting.  <a href="#a228f1ed7e4197f223deef9b2ff1b9387"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa31f0b9c4df89e7da20e8005d00347c7"></a><!-- doxytag: member="server.cpp::findFileSize" ref="aa31f0b9c4df89e7da20e8005d00347c7" args="(FILE *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long findFileSize </td>
          <td>(</td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>nFile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>* Function Name: findFileSize Function Type: facilitator Parameters: FILE* - import only - file to find the size of Return Value: long - the size of the file in bytes</p>
<p>findFileSize takes a single file reference as a argument. It takes the file reference and fseeks to the end of the file. From there ftell can be called to receive how many bytes are in the file. Since a char is only 1 byte, this number represents how many characters are in the file as well. Once the file size is found, fseek back to the beginning of the file for reading/writing. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00192"></a>00192                                {
<a name="l00193"></a>00193         fseek(nFile, 0, SEEK_END); <span class="comment">//end of file</span>
<a name="l00194"></a>00194         <span class="keywordtype">long</span> lSize = ftell(nFile); <span class="comment">//returns number of bytes up to current fseek</span>
<a name="l00195"></a>00195         fseek(nFile, 0, SEEK_SET); <span class="comment">//beginning of file</span>
<a name="l00196"></a>00196         <span class="keywordflow">return</span> lSize;
<a name="l00197"></a>00197 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab84393df0417496821dc1d5ff98460e4"></a><!-- doxytag: member="server.cpp::findTotal" ref="ab84393df0417496821dc1d5ff98460e4" args="(char[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int findTotal </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>buf</em>[]</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>* Function Name: findTotal Function Type: facilitator Parameters: char[] - import only - string carrying the numbers to add Return Value: int - the sum of all the numbers read</p>
<p>findTotal takes a single cstring (char array) as an argument. The argument acts as a message container to search through. With the help of strtok, this function will iterate through every number in the message container with "space" being the delimiter. strtok cycles through each number until the pointer returns is NULL, meaning it has run out of numbers indicating the end of file. Each iteration the number strtok is pointing to in converted into a float and added to sum to be returned. Once every number is added to the sum then the total sum is returned. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00208"></a>00208                           {
<a name="l00209"></a>00209         <span class="keywordtype">int</span> total = 0; <span class="comment">//Sum of all numbers</span>
<a name="l00210"></a>00210         <span class="keywordtype">float</span> tempNum;
<a name="l00211"></a>00211         <span class="comment">//Return tokens in the message container with *space* as a delimiter</span>
<a name="l00212"></a>00212         <span class="comment">//delimiter: what will separate each token (number)</span>
<a name="l00213"></a>00213         <span class="keywordtype">char</span> * pch = strtok(buf, <span class="stringliteral">&quot; &quot;</span>);  
<a name="l00214"></a>00214         <span class="comment">//pch will be NULL when it has run out of tokens to point to</span>
<a name="l00215"></a>00215         <span class="keywordflow">while</span>(pch != NULL) {
<a name="l00216"></a>00216                 <span class="keywordtype">string</span> str(pch); <span class="comment">//Convert char* to string so toFloat can be called</span>
<a name="l00217"></a>00217                 tempNum = <a class="code" href="server_8cpp.html#afcd5b28c187b91a60a828c00d0d4c0e9" title="This function takes a single string as an integer and converts it into a floating-point...">toFloat</a>(str); <span class="comment">//Convert to float so it can be added</span>
<a name="l00218"></a>00218                 total += tempNum;
<a name="l00219"></a>00219                 <span class="comment">//Using NULL as an argument tells strtok to pick up where it left off</span>
<a name="l00220"></a>00220                 pch = strtok(NULL, <span class="stringliteral">&quot; &quot;</span>);
<a name="l00221"></a>00221         }                       
<a name="l00222"></a>00222         <span class="keywordflow">return</span> total;
<a name="l00223"></a>00223 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae66f6b31b5ad750f1fe042a706a4e3d4"></a><!-- doxytag: member="server.cpp::main" ref="ae66f6b31b5ad750f1fe042a706a4e3d4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00132"></a>00132            {
<a name="l00133"></a>00133         <span class="keywordtype">long</span> lSize; <span class="comment">//Size of the file being opened</span>
<a name="l00134"></a>00134         <span class="keywordtype">string</span> num1, num2; <span class="comment">//The numbers (or command) being sent by the server</span>
<a name="l00135"></a>00135         
<a name="l00136"></a>00136         <span class="comment">//Binary file to hold every number entered to the server ever</span>
<a name="l00137"></a>00137         <span class="comment">//The file will be created if it does not exist and will append to the</span>
<a name="l00138"></a>00138         <span class="comment">//end if it does. The file is open for both reading and writing if the</span>
<a name="l00139"></a>00139         <span class="comment">//permissions exist (if it already exists prior to opening)</span>
<a name="l00140"></a>00140         FILE * nFile = fopen(<span class="stringliteral">&quot;Numbers.bin&quot;</span>, <span class="stringliteral">&quot;a+&quot;</span>);
<a name="l00141"></a>00141         lSize = <a class="code" href="server_8cpp.html#aa31f0b9c4df89e7da20e8005d00347c7" title="This function goes to the end of the file and counts how many bytes are in the file...">findFileSize</a>(nFile);    
<a name="l00142"></a>00142         <span class="keywordtype">char</span> buf[lSize]; <span class="comment">//holder for reading contents of the file</span>
<a name="l00143"></a>00143         
<a name="l00144"></a>00144         cin &gt;&gt; num1; <span class="comment">//get first number or command</span>
<a name="l00145"></a>00145         
<a name="l00146"></a>00146         <span class="comment">//If the command entered equals &quot;total&quot;</span>
<a name="l00147"></a>00147         <span class="keywordflow">if</span>(num1.substr(0,5) == <span class="stringliteral">&quot;TOTAL&quot;</span>) {
<a name="l00148"></a>00148                 <span class="comment">//Get contents of the file and find the sum of all numbers</span>
<a name="l00149"></a>00149                 fread(buf, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), lSize, nFile);
<a name="l00150"></a>00150                 cout &lt;&lt; <a class="code" href="server_8cpp.html#ab84393df0417496821dc1d5ff98460e4" title="This function reads through the single string argument and separates each number...">findTotal</a>(buf) &lt;&lt; endl;
<a name="l00151"></a>00151         }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153         <span class="comment">//If the command entered equals &quot;exit&quot;</span>
<a name="l00154"></a>00154         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(num1.substr(0,4) == <span class="stringliteral">&quot;EXIT&quot;</span>) {
<a name="l00155"></a>00155                 <span class="comment">//Get contents of the file and print it all in number pairs</span>
<a name="l00156"></a>00156                 fread(buf, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), lSize, nFile);
<a name="l00157"></a>00157                 <a class="code" href="server_8cpp.html#a12b7a1b707bf7bf4e38ccf8c53335482" title="This function takes a single string as an argument and separates all the numbers...">printAllNumbers</a>(buf);
<a name="l00158"></a>00158         }
<a name="l00159"></a>00159         
<a name="l00160"></a>00160         <span class="comment">//If not &quot;total&quot; or &quot;exit&quot; get another number</span>
<a name="l00161"></a>00161         <span class="keywordflow">else</span> {
<a name="l00162"></a>00162                 cin &gt;&gt; num2;
<a name="l00163"></a>00163                 <span class="comment">//Do basic mathematical operations on the two numbers</span>
<a name="l00164"></a>00164                 <a class="code" href="server_8cpp.html#ae1be774bc9848fcd619e1433f3b103b6" title="This function takes two strings as arguments which will be converted into floating-point...">printEquations</a>(num1, num2);
<a name="l00165"></a>00165                 <span class="comment">//Place the number pair in a binary file</span>
<a name="l00166"></a>00166                 <a class="code" href="server_8cpp.html#a7a2bb34a7c82f5de64369965c212c4a2" title="This function takes three arguments. The first two arguments are the numbers in string...">writeToFile</a>(num1, num2, nFile); 
<a name="l00167"></a>00167         }
<a name="l00168"></a>00168         <span class="comment">//Server is no longer needed, return system resources</span>
<a name="l00169"></a>00169         <a class="code" href="server_8cpp.html#a228f1ed7e4197f223deef9b2ff1b9387" title="This function takes one file reference as an argument. It will close the given file...">shutDownServer</a>(nFile);
<a name="l00170"></a>00170         <span class="keywordflow">return</span> 0;
<a name="l00171"></a>00171 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a12b7a1b707bf7bf4e38ccf8c53335482"></a><!-- doxytag: member="server.cpp::printAllNumbers" ref="a12b7a1b707bf7bf4e38ccf8c53335482" args="(char[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printAllNumbers </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>buf</em>[]</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>* Function Name: printAllNumbers Function Type: facilitator Parameters: char[] - import only - string carrying numbers to print Return Value: void</p>
<p>printAllNumbers takes a single cstring (char array) as an argument. The argument acts as a message container to search through. With the help of strtok, this function will iterate through every number in the message container with "space" being the delimiter. strtok cycles through each number until the pointer returns NULL, meaning it has run out of numbers indicating the end of file. Each iteration the number strtok is pointing to is placed in a holding string until both the first number and second number are found. Once the pair are found, they are formatted on a single line and written to stdout. Then on a new line, another pair is written until every pair in the message container has been written. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00236"></a>00236                                  {
<a name="l00237"></a>00237         <span class="comment">//iterator to use as a reference for first or second number in a pair</span>
<a name="l00238"></a>00238         <span class="keywordtype">int</span> i = 0; 
<a name="l00239"></a>00239         <span class="comment">//temporary holding variables</span>
<a name="l00240"></a>00240         <span class="keywordtype">float</span> tempNum;
<a name="l00241"></a>00241         <span class="keywordtype">string</span> tempStr1 = <span class="stringliteral">&quot;&quot;</span>, tempStr2 = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00242"></a>00242         <span class="comment">//Return tokens in the message container with *space* as a delimiter</span>
<a name="l00243"></a>00243         <span class="comment">//delimiter: what will separate each token (number)</span>
<a name="l00244"></a>00244         <span class="keywordtype">char</span> * pch = strtok(buf, <span class="stringliteral">&quot; &quot;</span>);
<a name="l00245"></a>00245         <span class="comment">//pch will be NULL when it has run out of tokens to point to</span>
<a name="l00246"></a>00246         <span class="keywordflow">while</span>(pch != NULL) {
<a name="l00247"></a>00247                 <span class="keywordtype">string</span> str(pch); <span class="comment">//convert char* to string</span>
<a name="l00248"></a>00248                 <span class="comment">//If the number is the second in the pair</span>
<a name="l00249"></a>00249                 <span class="keywordflow">if</span>(i % 2 != 0) {
<a name="l00250"></a>00250                         tempStr2 = str;
<a name="l00251"></a>00251                         <span class="comment">//Format and write both numbers to stdout</span>
<a name="l00252"></a>00252                         cout.width(15); cout &lt;&lt; left &lt;&lt; tempStr1;
<a name="l00253"></a>00253                         cout.width(15); cout &lt;&lt; left &lt;&lt; tempStr2;
<a name="l00254"></a>00254                         cout &lt;&lt; endl;
<a name="l00255"></a>00255                 }       
<a name="l00256"></a>00256                 <span class="keywordflow">else</span> <span class="comment">//the number is the first of the pair</span>
<a name="l00257"></a>00257                         tempStr1 = str;
<a name="l00258"></a>00258                 <span class="comment">//Using NULL as an argument tells strtok to pick up where it left off</span>
<a name="l00259"></a>00259                 pch = strtok(NULL, <span class="stringliteral">&quot; &quot;</span>);
<a name="l00260"></a>00260                 i++; <span class="comment">//increment the iterator to get token number</span>
<a name="l00261"></a>00261         }
<a name="l00262"></a>00262 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae1be774bc9848fcd619e1433f3b103b6"></a><!-- doxytag: member="server.cpp::printEquations" ref="ae1be774bc9848fcd619e1433f3b103b6" args="(string, string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printEquations </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>num1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>num2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>* Function Name: printEquations Function Type: facilitator Parameters: string - import only - number 1 in string form string - import only - number 2 in string form Return Value: void</p>
<p>printEquations takes two string arguments. Both string arguments are immediately converted into floats so basic mathematical operations can be performed on them. First the first row is formatted and written to display what operation the number represents. The second is formatted the same as the first but displays the results of the operation above. Everything is formatted and written to stdout independently. Every column will have a set width of 15 characters and be displayed with left justification in the column. Numbers are to be displayed with a precision of 10. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00273"></a>00273                                               {
<a name="l00274"></a>00274         <span class="comment">//Convert to float for further use in operations</span>
<a name="l00275"></a>00275         <span class="keywordtype">float</span> n1 = <a class="code" href="server_8cpp.html#afcd5b28c187b91a60a828c00d0d4c0e9" title="This function takes a single string as an integer and converts it into a floating-point...">toFloat</a>(num1);
<a name="l00276"></a>00276         <span class="keywordtype">float</span> n2 = <a class="code" href="server_8cpp.html#afcd5b28c187b91a60a828c00d0d4c0e9" title="This function takes a single string as an integer and converts it into a floating-point...">toFloat</a>(num2);
<a name="l00277"></a>00277         <span class="comment">//Write the operations use to know what the later numbers represent</span>
<a name="l00278"></a>00278         cout.width(15); cout &lt;&lt; left &lt;&lt; <span class="stringliteral">&quot;SUM&quot;</span>;
<a name="l00279"></a>00279         cout.width(15); cout &lt;&lt; left &lt;&lt; <span class="stringliteral">&quot;DIFF&quot;</span>;
<a name="l00280"></a>00280         cout.width(15); cout &lt;&lt; left &lt;&lt; <span class="stringliteral">&quot;PROD&quot;</span>;
<a name="l00281"></a>00281         cout.width(15); cout &lt;&lt; left &lt;&lt; <span class="stringliteral">&quot;QUOT&quot;</span>;
<a name="l00282"></a>00282         cout &lt;&lt; endl;
<a name="l00283"></a>00283         <span class="comment">//Display the results of the basic mathematical operations:</span>
<a name="l00284"></a>00284         <span class="comment">//Sum, Difference, Product, and Quotient</span>
<a name="l00285"></a>00285         cout.width(15); cout &lt;&lt; left &lt;&lt; setprecision(10) &lt;&lt; n1+n2;
<a name="l00286"></a>00286         cout.width(15); cout &lt;&lt; left &lt;&lt; setprecision(10) &lt;&lt; n1-n2;
<a name="l00287"></a>00287         cout.width(15); cout &lt;&lt; left &lt;&lt; setprecision(10) &lt;&lt; n1*n2;
<a name="l00288"></a>00288         cout.width(15); cout &lt;&lt; left &lt;&lt; setprecision(10) &lt;&lt; n1/n2;
<a name="l00289"></a>00289         cout &lt;&lt; endl;
<a name="l00290"></a>00290 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a228f1ed7e4197f223deef9b2ff1b9387"></a><!-- doxytag: member="server.cpp::shutDownServer" ref="a228f1ed7e4197f223deef9b2ff1b9387" args="(FILE *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shutDownServer </td>
          <td>(</td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>nFile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>* Function Name: shutDownServer Function Type: mutator Parameters: FILE* - import/export - file to close Return Value: void</p>
<p>shutDownServer takes a single file reference argument. The file reference argument is to be closed in order to return system resources. The pipes are flushed of all contents and are closed. Since the server's pipe ends are stdin and stdout, they are closed respectively. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00311"></a>00311                                  {
<a name="l00312"></a>00312         fclose(nFile); <span class="comment">//close file</span>
<a name="l00313"></a>00313         fflush(stdout); <span class="comment">//flush pipe of contents</span>
<a name="l00314"></a>00314         <span class="comment">//Close pipe ends (stdin and std out)</span>
<a name="l00315"></a>00315         close(0);
<a name="l00316"></a>00316         close(1);               
<a name="l00317"></a>00317 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afcd5b28c187b91a60a828c00d0d4c0e9"></a><!-- doxytag: member="server.cpp::toFloat" ref="afcd5b28c187b91a60a828c00d0d4c0e9" args="(string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float toFloat </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>str</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>* Function Name: toFloat Function Type: facilitator Parameters: string - string to turn into a float Return Value: float - the string turned into a float</p>
<p>toFloat takes a single string argument to convert into a float. First the string is inserted into a stringstream for holding. Then the stream is extracted into a temporary holding floating-point number. The floating point number is then returned as the functions return value. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00178"></a>00178                           {
<a name="l00179"></a>00179         <span class="keywordtype">float</span> temp;
<a name="l00180"></a>00180         stringstream sstr;
<a name="l00181"></a>00181         sstr &lt;&lt; str;
<a name="l00182"></a>00182         sstr &gt;&gt; temp;
<a name="l00183"></a>00183         <span class="keywordflow">return</span> temp;
<a name="l00184"></a>00184 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7a2bb34a7c82f5de64369965c212c4a2"></a><!-- doxytag: member="server.cpp::writeToFile" ref="a7a2bb34a7c82f5de64369965c212c4a2" args="(string, string, FILE *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeToFile </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>num1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>num2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>nFile</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>* Function Name: writeToFile Function Type: mutator Parameters: string - import only - number 1 to write to file string - import only - number 2 to write to file FILE* - import/export - file to write to Return Value: void</p>
<p>writeToFile takes two string arguments and a single file reference argument. The strings will be numbers to be inserted into the file. The numbers are written to the file individually to avoid packaging. A space character is written between the numbers and after the last number to ensure no number gets combined in the file. </p>

<p><div class="fragment"><pre class="fragment"><a name="l00298"></a>00298                                                         {
<a name="l00299"></a>00299         <span class="keywordtype">string</span> space = <span class="stringliteral">&quot; &quot;</span>;
<a name="l00300"></a>00300         fputs(num1.c_str(), nFile); <span class="comment">//write num1</span>
<a name="l00301"></a>00301         fputs(space.c_str(), nFile); <span class="comment">//write space</span>
<a name="l00302"></a>00302         fputs(num2.c_str(), nFile); <span class="comment">//write num2</span>
<a name="l00303"></a>00303         fputs(space.c_str(), nFile); <span class="comment">//write space</span>
<a name="l00304"></a>00304 }
</pre></div></p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 11 Mar 2017 for CSC552Project2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
